!function(){"use strict";let e;function r(r){r.preventDefault();let t=r.target;null!=e&&"undefined"!=typeof grecaptcha?grecaptcha.ready(()=>{grecaptcha.execute(e)}):o(t,"ReCAPTCHA is not initialized properly!")}function t(r){let t=document.querySelector(".php-email-form");if(!t){console.error("Form not found!");return}let s=t.getAttribute("action");if(!s){o(t,"The form action property is not set!");return}let l=new FormData(t);l.set("token",r),t.querySelector(".loading").classList.add("d-block"),t.querySelector(".error-message").classList.remove("d-block"),t.querySelector(".sent-message").classList.remove("d-block"),function r(t,s,l){fetch(s,{method:"POST",body:JSON.stringify(function e(r){let t={};return r.forEach((e,r)=>{t[r]?(Array.isArray(t[r])||(t[r]=[t[r]]),t[r].push(e)):t[r]=e}),t}(l)),headers:{"Content-Type":"application/json"}}).then(r=>{r.json().then(s=>{if(t.querySelector(".loading").classList.remove("d-block"),grecaptcha.reset(e),r.ok)t.querySelector(".sent-message").classList.add("d-block"),t.reset();else{let l=`${s.error}`;s.details&&s.details.length>0&&s.details.forEach(e=>{l+=`<br> ${e}`}),o(t,l)}})}).catch(e=>{o(t,e)})}(t,s,l)}function o(e,r){e.querySelector(".loading").classList.remove("d-block"),e.querySelector(".error-message").innerHTML=r,e.querySelector(".error-message").classList.add("d-block")}window.addEventListener("load",()=>{let o=document.querySelector(".php-email-form");o&&o.addEventListener("submit",r);e=grecaptcha.render(document.getElementById("captcha-container"),{sitekey:"6LdCiFgrAAAAAHOzIQesXjb2IXwDwxXi47e5mjQx",size:"invisible",callback:t,"error-callback":()=>console.error("Error in recaptcha response")})})}();